<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/individual_question_answer.css') }}">
</head>
<body>
    <div class="container">
        <div class="question-container">
            <table class="table">
                {% for question in questions %}
                <h3>Question - {{ question.title }}</h3>
                <tr>
                    <th>Title</th>
                    <th>Message</th>
                    <th>Image</th>
                    <th>Vote number</th>
                    <th>View number</th>
                    <th>Vote up</th>
                    <th>Vote down</th>
                    <th>Delete</th>
                </tr>
                <tr>
                    <td>{{ question.title }}</td>
                    <td>{{ question.message }}</td>
                    {% if not question.image %}
                        <td>No image</td>
                    {% else %}
                        <td><img src="{{url_for('static', filename='images/' + question.image)}}" width="100" height="100" alt="question image"></td>
                    {% endif %}
                    <td>{{ question.vote_number }}</td>
                    <td>{{ question.view_number }}</td>
                    <td><button class="home-btn" type="button"><a href="{{ url_for('vote_up_question', question_id=question.id) }}">‚¨ÜÔ∏è</a></button></td>
                    <td><button class="home-btn" type="button"><a href="{{ url_for('vote_down_question', question_id=question.id) }}">‚¨áÔ∏è</a></button></td>
                    <td><button type="button"><a href="{{url_for('delete_question', question_id=question.id)}}"> üö´ </a></button></td>
                </tr>
                    <button class="button" type="button"><a href="{{ url_for('answer_page', question_id=question.id) }}">Add an answer</a></button>
                    <button class="button" type="button"><a href="{{ url_for('edit_question', question_id=question.id) }}">Edit question</a></button>
                    <button class="button" type="button"><a href="{{ url_for('add_comment_question', question_id=question.id) }}">Add a comment</a></button>
                    <button class="button" type="button"><a href="{{ url_for('add_new_tag', question_id=question.id) }}">Add tag</a></button>
                    <br>
                {% if question_tags|length > 0 %}
                    <div class="question-tags">
                            <table>
                                <tr>
                                    <th>Tag</th>
                                    <th>Remove tag</th>
                                </tr>
                                {% for tag in question_tags %}
                                <tr>
                                    <td>{{ tag.name }}</td>
                                    <td><a href="{{ url_for('delete_tag', question_id=question.id, tag_id=tag.id) }}">üö´</a></td>
                                </tr>
                                {% endfor %}
                            </table>
                    </div>
                {% endif %}
                {% endfor %}
            </table>
        </div>
        {% if comments_question|length > 0 %}
        <div class="comments-question-container">
        <h4>Comments for the questions</h4>
            <table class="table">
                <tr>
                    <th style="text-align: center; vertical-align: middle;">Last time edited</th>
                    <th style="text-align: center; vertical-align: middle;">Message</th>
                    <th style="text-align: center; vertical-align: middle;">Edit count</th>
                    <th>Delete</th>
                    <th>Edit</th>
                </tr>
                {% for comment in comments_question %}
                <tr>
                    <td>{{ comment.submission_time }}</td>
                    <td>{{ comment.message }}</td>
                    <td>{{ comment.edited_count }}</td>
                    <td><button type="button"><a href="{{url_for('delete_comment', comment_id=comment.id)}}"> üö´ </a></button></td>
                    <td><button type="button"><a href="{{ url_for('edit_comment', comment_id=comment.id) }}">Edit comment</a></button></td>
                </tr>
                {% endfor %}
            </table>
        </div>
        {% endif %}
            {% if answers|length > 0 %}
        <div class="answer-container">
        <h3>Answers</h3>
            <table class="table">
                <tr>
                    <th style="text-align: center; vertical-align: middle;">Id</th>
                    <th style="text-align: center; vertical-align: middle;">Submission time</th>
                    <th style="text-align: center; vertical-align: middle;">Vote number</th>
                    <th style="text-align: center; vertical-align: middle;">Vote up</th>
                    <th style="text-align: center; vertical-align: middle;">Vote down</th>
                    <th style="text-align: center; vertical-align: middle;">Message</th>
                    <th style="text-align: center; vertical-align: middle;">Image</th>
                    <th>Delete</th>
                    <th>Edit</th>
                    <th>Add comment</th>
                </tr>
                {% for answer in answers %}
                <tr>
                    <td>{{ answer.id }}</td>
                    <td>{{ answer.submission_time }}</td>
                    <td>{{ answer.vote_number }}</td>
                    <td><button type="button"><a href="/question/{{answer['question_id']}}/vote_up/{{answer['id']}}">‚¨ÜÔ∏è</a></button></td>
                    <td><button type="button"><a href="/question/{{answer['question_id']}}/vote_down/{{answer['id']}}">‚¨áÔ∏è</a></button></td>
                    <td>{{ answer.message }}</td>
                    {% if not answer.image %}
                        <td>No image</td>
                    {% else %}
                        <td><img src="{{url_for('static', filename='images/' + answer.image)}}" width="100" height="100" alt="answer image"></td>
                    {% endif %}
                    <td><button type="button"><a href="{{url_for('delete_answer', answer_id=answer.id)}}"> üö´ </a></button></td>
                    <td><button type="button"><a href="{{ url_for('edit_answer', answer_id=answer.id) }}">Edit answer</a></button></td>
                    <td><button type="button"><a href="{{ url_for('add_comment_answer', answer_id=answer.id) }}">Add comment</a></button></td>
                    <td>
                        <button type="button"><a href=/question/{{answer['question_id']}}/answer/{{answer['id']}}/accept>Accept answer</a></button>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>
            {% endif %}
        {% if comments_answer|length %}
        <div class="comments-answers-container">
        <h4>Comments for the answers</h4>
            <table class="table">
                <tr>
                    <th style="text-align: center; vertical-align: middle;">Answer id</th>
                    <th style="text-align: center; vertical-align: middle;">Last time edited</th>
                    <th style="text-align: center; vertical-align: middle;">Message</th>
                    <th style="text-align: center; vertical-align: middle;">Edit count</th>
                    <th>Delete</th>
                    <th>Edit</th>
                </tr>
                {% for comment in comments_answer %}
                <tr>
                    <td>{{ comment.answer_id }}</td>
                    <td>{{ comment.submission_time }}</td>
                    <td>{{ comment.message }}</td>
                    <td>{{ comment.edited_count }}</td>
                    <td><button type="button"><a href="{{url_for('delete_comment', comment_id=comment.id)}}"> üö´ </a></button></td>
                    <td><button type="button"><a href="{{url_for('edit_comment', comment_id=comment.id)}}">Edit comment</a></button></td>
                </tr>
                {% endfor %}
            </table>
        {% endif %}
            <br>
        </div>
    </div>
    <div class="home-btn-container">
        <button class="button" type="button"><a href="{{ url_for('questions_page', criteria='id', direction='asc') }}"> Home </a></button>
    </div>
</body>
</html>